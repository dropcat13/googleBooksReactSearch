(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},34:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),l=a.n(r),c=a(14),s=a(11);var i=function(){var e=Object(s.e)();return o.a.createElement("div",null,o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{to:"/",className:"/"===e.pathname?"nav-link active":"nav-link"},"Search")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{to:"/saved",className:"/saved"===e.pathname?"nav-link active":"nav-link"},"Saved"))))};var m=function(e){return o.a.createElement("div",{className:"container".concat(e.fluid?"-fluid":"")},e.children)};var u=function(e){return o.a.createElement("div",{className:"row".concat(e.fluid?"-fluid":"")},e.children)};var d=function(e){var t=e.size.split(" ").map(function(e){return"col-"+e}).join(" ");return o.a.createElement("div",{className:t},e.children)};a(16);var p=function(){return o.a.createElement("div",{id:"titleBox"},o.a.createElement("h3",null,"Google Books (React) Search"),o.a.createElement("h4",null,"Search for and Save Books of Interest"))},h=a(4),b=a(5),v=a(7),k=a(6),E=a(8),f=a(15),g=a.n(f),y="https://www.googleapis.com/books/v1/volumes?q=",B={getBooks:function(e){return console.log(y+e),g.a.get(y+e)},saveBooks:function(e){return console.log("frontend API:",e),g.a.post("/api/books/",e)},deleteBook:function(e){return console.log("frontend API:",e),g.a.delete("/api/books/"+e)},getSavedBooks:function(){return g.a.get("/api/books/")}},j=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).removeBook=function(){console.log("Delete Route",a.props.book.id),B.deleteBook(a.props.book.id).catch(function(e){return console.log(e)}),a.props.deleteBook(a.props.book.id)},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.book.deleted?o.a.createElement("div",null):o.a.createElement("div",{className:"card text-left"},o.a.createElement("h3",{className:"card-title"},this.props.book.title),o.a.createElement("div",{className:"card-body"},o.a.createElement("a",{href:this.props.book.link,target:"_blank",rel:"noreferrer noopener"},o.a.createElement("button",{className:"btn btn-light"},"VIEW")),o.a.createElement("button",{className:"btn btn-danger",onClick:this.removeBook},"DELETE"),o.a.createElement("h6",null,"Written by ",this.props.book.authors),o.a.createElement("img",{alt:this.props.book.img,className:"img-fluid",src:this.props.book.img,style:{margin:"0 auto"}}),o.a.createElement("p",null,this.props.book.synopsis))))}}]),t}(o.a.Component),O=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],yesrecords:!1},a.deleteBook=function(e){for(var t=a.state.books,n=0;n<t.length;n++)t[n].id===e&&(t[n].deleted=!0);a.setState({books:t})},a.componentDidMount=function(){B.getSavedBooks().then(function(e){console.log(e.data);for(var t=[],n=0;n<e.data.length;n++){var o={title:e.data[n].title,authors:e.data[n].authors,synopsis:e.data[n].synopsis,id:e.data[n]._id,img:e.data[n].img,link:e.data[n].link,deleted:!1};t.push(o)}a.setState({books:t})})},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state.books;return o.a.createElement("div",{className:"card text-left"},o.a.createElement("h3",{className:"card-header"},"Saved Books"),o.a.createElement("div",{className:"card-body"},t?o.a.createElement("div",null,t.map(function(t,a){return o.a.createElement(j,{book:t,key:a,deleteBook:e.deleteBook})})):o.a.createElement("h4",null,"Save A Book To Begin!"),"} }"))}}]),t}(n.Component);var S=function(){return o.a.createElement("div",null,o.a.createElement(m,{style:{marginTop:30}},o.a.createElement(u,null,o.a.createElement(d,{size:"md-12"},o.a.createElement(p,null))),o.a.createElement("br",null),o.a.createElement(u,null,o.a.createElement(d,{size:"md-12"},o.a.createElement(O,null)))))},N=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).saveBook=function(){var e={title:a.props.book.title,authors:a.props.book.author,synopsis:a.props.book.blurb,id:a.props.book.id,img:a.props.book.img,link:a.props.book.link};console.log("frontEnd: ",e),B.saveBooks(e).then(function(e){console.log("books saved:"),a.props.savedBook(a.props.book.id)}).catch(function(e){console.log(e),a.setState({saved:!0})})},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"card text-left"},o.a.createElement("h3",{className:"card-title"},this.props.book.title),o.a.createElement("div",{className:"card-body"},o.a.createElement("a",{href:this.props.book.link,target:"_blank",rel:"noreferrer noopener"},o.a.createElement("button",{className:"btn btn-light"},"VIEW")),this.props.book.saved?o.a.createElement("h1",null,"Book is already saved!"):o.a.createElement("button",{className:"btn btn-success",onClick:this.saveBook},"SAVE"),o.a.createElement("h6",null,"Written by ",this.props.book.author),o.a.createElement("img",{alt:this.props.book.img,className:"img-fluid",src:this.props.book.img,style:{margin:"0 auto"}}),o.a.createElement("p",null,this.props.book.blurb)))}}]),t}(o.a.Component),w=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.records;return o.a.createElement("div",{className:"card text-left"},o.a.createElement("h3",{className:"card-header"},"Results"),o.a.createElement("div",{className:"card-body"},t?o.a.createElement("div",null,t.map(function(t,a){return o.a.createElement(N,{book:t,savedBook:e.props.savedBook,key:a})})):o.a.createElement("h4",null,"Search For A Book To Begin!")))}}]),t}(o.a.Component),I=a(33),C=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).state={title:""},a.handleInputChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(I.a)({hasSearched:!0},t,n))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.title.split(" ").join("+");console.log(t),B.getBooks(t).then(function(e){console.log(e),a.props.getSearch(e)})},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"card text-left"},o.a.createElement("h3",{className:"card-header"},"Book Search"),o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",null,"Book"),o.a.createElement("input",{onChange:this.handleInputChange,type:"text",id:"title",name:"title",placeholder:"Book title..."}),o.a.createElement("button",{onClick:this.handleFormSubmit,className:"btn btn-danger"},"SEARCH")))}}]),t}(o.a.Component),A=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).state={SearchResults:[]},a.savedBooK=function(e){var t=a.state.SearchResults;console.log("Book If",e);for(var n=0;n<t.length;n++)t[n].id===e&&(t[n].saved=!0);a.setState({SearchResults:t})},a.getSearch=function(e){var t=e.data.items.map(function(e){return console.log("result:"+JSON.stringify(e)),{img:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.smallThumbnail:"https://upload.wikimedia.org/wikipedia/commons/1/15/No_image_available_600_x_450.svg",title:e.volumeInfo.title,author:e.volumeInfo.authors,blurb:e.volumeInfo.description,id:e.id,link:e.volumeInfo.infoLink,saved:!1}});console.log("Answer",t),a.setState({SearchResults:t})},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(m,{style:{marginTop:30}},o.a.createElement(u,null,o.a.createElement(d,{size:"md-12"},o.a.createElement(p,null))),o.a.createElement("br",null),o.a.createElement(u,null,o.a.createElement(d,{size:"md-12"},o.a.createElement(C,{getSearch:this.getSearch}))),o.a.createElement("br",null),o.a.createElement(u,null,o.a.createElement(d,{size:"md-12"},o.a.createElement(w,{records:this.state.SearchResults,savedBook:this.savedBooK})))))}}]),t}(o.a.Component);var x=function(){return o.a.createElement(c.a,{basename:"/ReactBookSearch"},o.a.createElement("div",null,o.a.createElement(i,null),o.a.createElement("br",null),o.a.createElement(s.a,{exact:!0,path:"/",component:A}),o.a.createElement(s.a,{exact:!0,path:"/search",component:A}),o.a.createElement(s.a,{path:"/saved",component:S})))};l.a.render(o.a.createElement(x,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5e9f225e.chunk.js.map